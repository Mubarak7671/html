<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
    <!--
    1.Asynchronous
    2.Synchronous
    * Promise 
    * API -->
</head>
<body>
    <h1>Promise</h1>
    <script>
        console.log("start");
        setTimeout(()=>{
            console.log("setTime out after delay");
        },1000);
        console.log("end");//Here 14,15 lines are synchronous , setTimeout is Asynchronous.
    </script>
    <script>//Synchronous
        function task(){
            return new Promise((resolve,reject)=>{
                const success=false;
                if(success)
                resolve("I will give bag");
            else
            reject("I can't give bag")
            });
        }
        console.log (task());
        function task(){
            return new Promise((resolve,reject)=>{
                setTimeout(()=>{
                    const success=false;
                    if(success)
                    resolve("I will bring");
                else
                reject("I can't bring")
                },2000);
            });
        };
                task().then(res=>console.log(res)).catch(e=>console.log(e));
               const fetchPhotos= fetch("https://jsonplaceholder.typicode.com/photos");
             console.log(fetchPhotos);
             fetchPhotos.then(res=>res.json()).then(data=>console.log(data));
    </script>
    <script>
        // Real-time Project: Fetching user details from a server using Promise

function getUserData() {
    return new Promise((resolve, reject) => {

        console.log("Fetching user data...");

        setTimeout(() => {

            const success = true;  // imagine server response status

            if (success) {
                resolve({
                    id: 101,
                    name: "Shaik",
                    email: "shaik@mail.com",
                });
            } else {
                reject("Failed to fetch user data");
            }

        }, 2000);  // server takes 2 seconds
    });
}

// Using the Promise
getUserData()
    .then((user) => {
        console.log("User Data Received:", user);
    })
    .catch((error) => {
        console.log("Error:", error);
    })
    .finally(() => {
        console.log("Process Completed");
    });

    </script>
    
</body>
</html>